<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewBag.Title - My ASP.NET Application</title>
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/5/w3.css">
    <!-- [Favicon] icon -->
    <link rel="icon" href="../assets/images/icon.svg" type="image/x-icon" />

    <!-- [Font] Family -->
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;500;600&display=swap" rel="stylesheet" />
    <!-- [phosphor Icons] https://phosphoricons.com/ -->
    <link rel="stylesheet" href="../assets/fonts/phosphor/duotone/style.css" />
    <!-- [Tabler Icons] https://tablericons.com -->
    <link rel="stylesheet" href="../assets/fonts/tabler-icons.min.css" />
    <!-- [Feather Icons] https://feathericons.com -->
    <link rel="stylesheet" href="../assets/fonts/feather.css" />
    <!-- [Font Awesome Icons] https://fontawesome.com/icons -->
    <link rel="stylesheet" href="../assets/fonts/fontawesome.css" />
    <!-- [Material Icons] https://fonts.google.com/icons -->
    <link rel="stylesheet" href="../assets/fonts/material.css" />
    <!-- [Template CSS Files] -->
    <link rel="stylesheet" href="../assets/css/style.css" id="main-style-link" />

    @Styles.Render("~/Content/css")
    @Scripts.Render("~/bundles/modernizr")
</head>
<body>
    <div class="loader-bg fixed inset-0 bg-white dark:bg-themedark-cardbg z-[1034]">
        <div class="loader-track h-[5px] w-full inline-block absolute overflow-hidden top-0">
            <div class="loader-fill w-[300px] h-[5px] bg-primary-500 absolute top-0 left-0 animate-[hitZak_0.6s_ease-in-out_infinite_alternate]"></div>
        </div>
    </div>
    <!-- [ Pre-loader ] End -->
    <!-- [ Top Bar ] start -->
    <div class="user-status-bar" style="background-color: #f8f9fa; padding: 10px 20px; border-bottom: 1px solid #dee2e6; position: fixed; top: 0; left: 0; right: 0; z-index: 1035;">
        @if (Session["UserName"] != null)
        {
            <div style="display: flex; justify-content: space-between; align-items: center; margin-left: 15%;">
                <span>Chào mừng, <strong>@Session["UserName"]</strong></span>
                <a href="/Login/Logout" style="color: #dc3545; text-decoration: none;">Đăng xuất</a>
            </div>
        }
        else
        {
            <div style="text-align: center; color: #dc3545; font-weight: bold;">
                Bạn chưa đăng nhập. Vui lòng <a href="/Login/Login" style="color: #007bff;">đăng nhập</a> để tiếp tục.
            </div>
        }
    </div>
    <!-- [ Top Bar ] End -->
    <!-- [ Sidebar Menu ] start -->
    <nav class="pc-sidebar" style="margin-top: 50px;">
        <div class="navbar-wrapper">
            <div class="m-header flex items-center py-4 px-6 h-header-height">
                <a href="/Home/Index" class="b-brand flex items-center gap-3">
                    <!-- ========   Change your logo from here   ============ -->
                    <img src="../assets/images/icon.svg" class="img-fluid logo logo-lg" alt="logo" />
                    <img src="../assets/images/icon.svg" class="img-fluid logo logo-sm" alt="logo" />
                </a>
            </div>
            <div class="navbar-content h-[calc(100vh_-_74px)] py-2.5">
                <ul class="pc-navbar">
                    <li class="pc-item pc-caption">
                        <label>Trang chủ</label>
                    </li>
                    <li class="pc-item">
                        <a href="/Home/Index" class="pc-link">
                            <span class="pc-micon">
                                <i data-feather="home"></i>
                            </span>
                            <span class="pc-mtext">Trang chủ</span>
                        </a>
                    </li>

                    @if (Session["UserName"] != null)
                    {
                        <li class="pc-item pc-caption">
                            <label>Chức năng</label>
                            <i data-feather="feather"></i>
                        </li>
                        <li class="pc-item pc-hasmenu">
                            <a href="/SanPham/XemSP" class="pc-link">
                                <span class="pc-micon"> <i data-feather="edit"></i></span>
                                <span class="pc-mtext">Sản phẩm</span>
                            </a>
                        </li>

                        <li class="pc-item pc-hasmenu">
                            <a href="/Xuat/XemSP" class="pc-link">
                                <span class="pc-micon"> <i data-feather="type"></i></span>
                                <span class="pc-mtext">Xuất Sản phẩm</span>
                            </a>
                        </li>
                    }
                    else
                    {
                        <li class="pc-item pc-caption">
                            <label>Xác thực</label>
                            <i data-feather="feather"></i>
                        </li>
                    }

                    <li class="pc-item pc-hasmenu">
                        @if (Session["UserName"] != null)
                        {
                            <a href="/Login/Logout" class="pc-link">
                                <span class="pc-micon"> <i data-feather="log-out"></i></span>
                                <span class="pc-mtext">Đăng xuất</span>
                            </a>
                        }
                        else
                        {
                            <a href="/Login/Login" class="pc-link">
                                <span class="pc-micon"> <i data-feather="log-in"></i></span>
                                <span class="pc-mtext">Đăng nhập</span>
                            </a>
                        }
                    </li>

                    <li class="pc-item pc-caption">
                        <label>Khác</label>
                        <i data-feather="sidebar"></i>
                    </li>

                    <li class="pc-item">
                        <a href="/Home/About" class="pc-link">
                            <span class="pc-micon">
                                <i data-feather="sidebar"></i>
                            </span>
                            <span class="pc-mtext">Giới thiệu</span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <script src="../assets/js/plugins/simplebar.min.js"></script>
    <script src="../assets/js/plugins/popper.min.js"></script>
    <script src="../assets/js/icon/custom-icon.js"></script>
    <script src="../assets/js/plugins/feather.min.js"></script>
    <script src="../assets/js/component.js"></script>
    <script src="../assets/js/theme.js"></script>
    <script src="../assets/js/script.js"></script>

    <div class="floting-button fixed bottom-[50px] right-[30px] z-[1030]">
    </div>

    <script>
        layout_change('false');
    </script>

    <script>
        layout_theme_sidebar_change('dark');
    </script>

    <script>
        change_box_container('false');
    </script>

    <script>
        layout_caption_change('true');
    </script>

    <script>
        layout_rtl_change('false');
    </script>

    <script>
        preset_change('preset-1');
    </script>

    <script>
        main_layout_change('vertical');
    </script>

    <div class="container body-content" style="margin-left:15%; margin-top: 50px;">
        @if (Session["UserName"] == null &&
             !Request.Url.AbsolutePath.Contains("/Login/") &&
             !Request.Url.AbsolutePath.Contains("/Home/About"))
        {
            <div class="alert alert-warning text-center">
                <h3>Truy cập bị hạn chế</h3>
                <p>Bạn cần đăng nhập để truy cập chức năng này.</p>
                <a href="/Login/Login" class="btn btn-primary">Đăng nhập ngay</a>
            </div>
        }
        else
        {
            @RenderBody()
        }

        <hr />
        <footer>
            <p>&copy; @DateTime.Now.Year - Công nghệ Phần mềm</p>
        </footer>
    </div>

    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/bootstrap")
    @RenderSection("scripts", required: false)
</body>
</html>